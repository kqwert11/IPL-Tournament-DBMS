
-- mysql  Ver 14.14 Distrib 5.7.27, for Linux (x86_64)
--
-- Host: localhost    Database: CRICKET
-- ------------------------------------------------------
-- Server version	5.7.27-0ubuntu0.19.04.1 

DROP DATABASE IF EXISTS `CRICKET`;
CREATE SCHEMA `CRICKET`;
USE `CRICKET`;


-- Table Structure of `COUNTRY`

DROP TABLE IF EXISTS `COUNTRY`;
CREATE TABLE `COUNTRY` (
	`CID` int(3) NOT NULL,
	`CName` varchar(20) NOT NULL,
	PRIMARY KEY (`CID`),
	UNIQUE (`CName`)
)ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- Table Structure of `REGION`

DROP TABLE IF EXISTS `REGION`;
CREATE TABLE `REGION` (
	`RID` int(3) NOT NULL,
	`RName` varchar(20) NOT NULL,
	PRIMARY KEY (`RID`),
	UNIQUE (`RName`)
)ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Table Structure of `TEAMS`

DROP TABLE IF EXISTS `TEAMS`;
CREATE TABLE `TEAMS` (
	`TeamID` int(3) NOT NULL,
	`Coach` varchar(15) NOT NULL,
	`RID` int(3) NOT NULL,
	`JColour` varchar(15) NOT NULL,
	PRIMARY KEY (`TeamID`),
	UNIQUE (`Coach`),
	FOREIGN KEY (`RID`) REFERENCES `REGION` (`RID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;



-- Table Structure of `VENUE`

DROP TABLE IF EXISTS `VENUE`;
CREATE TABLE `VENUE` (
	`VID` int(3) NOT NULL,
	`Venue` varchar(15) NOT NULL,
	PRIMARY KEY (`VID`),
	UNIQUE (`Venue`)
)ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- Table Structure of `PLAYERS`

DROP TABLE IF EXISTS `PLAYERS`;
CREATE TABLE `PLAYERS` (
	`PID` int(3) NOT NULL,
	`Fname` varchar(15) NOT NULL,
	`Lname` varchar(15) NOT NULL,
	`Age` int(2) NOT NULL,
	`JerseyNo` int(3) NOT NULL,
	`TeamID` int(3) NOT NULL,
	'Country' int(3) NOT NULL,
	PRIMARY KEY (`PID`),
	FOREIGN KEY (`Country`) REFERENCES `COUNTRY` (`CID`) ON DELETE CASCADE,
	FOREIGN KEY (`TeamID`) REFERENCES `TEAMS` (`TeamID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;



-- Table Structure of `PLAYER_TYPE`

DROP TABLE IF EXISTS `PLAYER_TYPE`;
CREATE TABLE `PLAYER_TYPE` (
	`PID` int(3) NOT NULL,
	`Type` varchar(15) NOT NULL,
	PRIMARY KEY (`PID`,`Type`),
	CHECK (Type = 'Batsman' OR Type = 'Bowler'),
	FOREIGN KEY (`PID`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- Table Structure of `MATCHES`


DROP TABLE IF EXISTS `MATCHES`;
CREATE TABLE `MATCHES` (
	'Match Number' int(3) NOT NULL,
	`TID1` int(3) NOT NULL,
	`TID2` int(3) NOT NULL,
	`WonBy` int(3),
	`Man_of_the_Match` int(3),
	`Umpire` varchar(15) NOT NULL,
	`Day` int(2) NOT NULL,
	`VenueID` int(3) NOT NULL,
	PRIMARY KEY (`Match Number`),
	FOREIGN KEY (`WonBy`) REFERENCES `TEAMS` (`TeamID`) ON DELETE CASCADE,
	FOREIGN KEY (`Man_of_the_Match`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE,
	FOREIGN KEY (`TID1`) REFERENCES `TEAMS` (`TeamID`) ON DELETE CASCADE,
	FOREIGN KEY (`TID2`) REFERENCES `TEAMS` (`TeamID`) ON DELETE CASCADE,
	FOREIGN KEY (`VenueID`) REFERENCES `VENUE` (`VID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- Table Structure of `BOWLER`

DROP TABLE IF EXISTS `BOWLER`;
CREATE TABLE `BOWLER` (
	`PID` int(3) NOT NULL,
	`Matches` int(3) NOT NULL,
	`RunsGvn` int(4) NOT NULL,
	`Wickets` int(4) NOT NULL,
	`BowlAverage` float(6) NOT NULL,
	`BestFigure` varchar(15) NOT NULL,
	PRIMARY KEY (`PID`),
	FOREIGN KEY (`PID`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE,
	CHECK (BestFigure LIKE '[0-9]-[0-9][0-9]')
)ENGINE=InnoDB DEFAULT CHARSET=latin1;



-- Table Structure of `BATSMAN`


DROP TABLE IF EXISTS `BATSMAN`;
CREATE TABLE `BATSMAN` (
	`PID` int(3) NOT NULL,
	`Runs` int(4) NOT NULL,
	`Innings` int(3) NOT NULL,
	`Innings_Not_Out` int(4) NOT NULL,
	`BatAverage` float(6) NOT NULL,
	`HighScore` int(15) NOT NULL,
	PRIMARY KEY (`PID`),
	FOREIGN KEY (`PID`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE,
	CHECK( Innings_Not_Out <= Innings AND HighScore <= Runs )
)ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- Table Structure of `CAPTAIN`

DROP TABLE IF EXISTS `CAPTAIN`;
CREATE TABLE `CAPTAIN` (
	`TID` int(3) NOT NULL,
	`PID` int(3) NOT NULL,
	PRIMARY KEY (`TID`, 'PID'),
	FOREIGN KEY (`PID`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE,
	FOREIGN KEY (`TID`) REFERENCES `TEAMS` (`TID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- Table Structure of `SCOREBOWLER`

DROP TABLE IF EXISTS `SCOREBOWLER`;
CREATE TABLE `SCOREBOWLER` (
	'MID' int(3) NOT NULL,
	'PID' int(3) NOT NULL,
	'Runs' int(3) NOT NULL,
	'Balls' int(3) NOT NULL,
	'Fours' int(3) NOT NULL,
	'Sixes' int(3) NOT NULL,
	'StrikeRate' float(6) NOT NULL,
	PRIMARY KEY ('MID','PID'),
	FOREIGN KEY (`MID`) REFERENCES `MATCHES` (`MID`) ON DELETE CASCADE,
	FOREIGN KEY (`PID`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;


-- Table Structure of `SCOREBATSMAN`

DROP TABLE IF EXISTS `SCOREBATSMAN`;
CREATE TABLE `SCOREBATSMAN` (
	'MID' int(3) NOT NULL,
	'PID' int(3) NOT NULL,
	'Overs' int(3) NOT NULL,
	'Wickets' int(3) NOT NULL,
	'Runs' int(3) NOT NULL,
	'Extras' int(3) NOT NULL,
	'DotBalls' int(3) NOT NULL,
	'EconomyRate' float(6) NOT NULL,
	PRIMARY KEY ('MID','PID'),
	FOREIGN KEY (`MID`) REFERENCES `MATCHES` (`MID`) ON DELETE CASCADE,
	FOREIGN KEY (`PID`) REFERENCES `PLAYERS` (`PID`) ON DELETE CASCADE
)ENGINE=InnoDB DEFAULT CHARSET=latin1;





-- Dumping data for table `COUNTRY`

LOCK TABLES `COUNTRY` WRITE;

INSERT INTO `COUNTRY` VALUES (001, 'India');
INSERT INTO `COUNTRY` VALUES (002, 'Australia');
INSERT INTO `COUNTRY` VALUES (003, 'West Indies');
INSERT INTO `COUNTRY` VALUES (004, 'Sri Lanka');
INSERT INTO `COUNTRY` VALUES (005, 'England');

UNLOCK TABLES;



-- Dumping data for table `REGION`;

LOCK TABLES `REGION` WRITE;

INSERT INTO `REGION` VALUES (001, 'MUMBAI');
INSERT INTO `REGION` VALUES (002, 'DELHI');
INSERT INTO `REGION` VALUES (003, 'KOLKATA');
INSERT INTO `REGION` VALUES (004, 'HYDERABAD');
INSERT INTO `REGION` VALUES (005, 'CHENNAI');

UNLOCK TABLES;



-- Dumping data for table `TEAMS`

LOCK TABLES `TEAMS` WRITE;

INSERT INTO `TEAMS` VALUES (110, 'Shastri', 001, 'RED');
INSERT INTO `TEAMS` VALUES (120, 'Lehmann', 002, 'BLUE');
INSERT INTO `TEAMS` VALUES (130, 'Mbangwa', 003, 'ORANGE');
INSERT INTO `TEAMS` VALUES (140, 'Arathapattu', 004, 'PINK');
INSERT INTO `TEAMS` VALUES (150, 'Trescothic', 005, 'YELLOW');

UNLOCK TABLES;



-- Dumping data for table `VENUE`

LOCK TABLES `VENUE` WRITE;

INSERT INTO `VENUE` VALUES (20, 'WANKHADE');
INSERT INTO `VENUE` VALUES (21, 'EDEN GARDENS');
INSERT INTO `VENUE` VALUES (75, 'HOLKAR');
INSERT INTO `VENUE` VALUES (76, 'MELBOURNE');
INSERT INTO `VENUE` VALUES (22, 'SYDNEY');

UNLOCK TABLES;




-- Dumping data for table `MATCHES`
LOCK TABLES `MATCHES` WRITE;

INSERT INTO `MATCHES` VALUES (001, 110, 120, 110, 111, 'Bowden', 01, 20);
INSERT INTO `MATCHES` VALUES (002, 130, 150, 150, 152, 'Billy', 02, 75);
INSERT INTO `MATCHES` VALUES (003, 120, 140, 120, 121, 'Ravi', 02, 76);
INSERT INTO `MATCHES` VALUES (004, 110, 130, 110, 112, 'Eric', 03, 20);
INSERT INTO `MATCHES` VALUES (005, 140, 150, 140, 141, 'Bowden', 03, 21);
INSERT INTO `MATCHES` VALUES (006, 140, 130, 130, 131, 'Bowden', 04, 20);
INSERT INTO `MATCHES` VALUES (007, 150, 120, NULL, NULL, 'Tauffel', 04, 76);
INSERT INTO `MATCHES` VALUES (008, 140, 150, NULL, NULL, 'Tauffel', 05, 76);
INSERT INTO `MATCHES` VALUES (009, 130, 110, NULL, NULL, 'Bowden', 06, 75);

UNLOCK TABLES;



-- Dumping data for table `PLAYERS`

LOCK TABLES `PLAYERS` WRITE;

INSERT INTO `PLAYERS` VALUES (111, 'Sachin', 'Tendulkar', 47, 10, 001, 110);
INSERT INTO `PLAYERS` VALUES (112, 'Kushagra', 'Agarwal', 19, 07, 002, 120);
INSERT INTO `PLAYERS` VALUES (113, 'Virat', 'Kohli', 30, 18, 003, 130);
INSERT INTO `PLAYERS` VALUES (114, 'Rohit', 'Sharma', 36, 19, 004, 140);
INSERT INTO `PLAYERS` VALUES (121, 'Steve', 'Smith', 28, 09, 005, 150);
INSERT INTO `PLAYERS` VALUES (122, 'David', 'Warner', 34, 06, 001, 110);
INSERT INTO `PLAYERS` VALUES (131, 'Sid', 'Vij', 20, 99, 002, 120);
INSERT INTO `PLAYERS` VALUES (132, 'Tanvi','Kamble', 30, 11, 003, 130);
INSERT INTO `PLAYERS` VALUES (141, 'Akshit', 'Garg', 20, 02, 004, 140);
INSERT INTO `PLAYERS` VALUES (142, 'Shantanu', 'Agrawal', 19, 04, 005, 150);
INSERT INTO `PLAYERS` VALUES (151, 'Tanvi', 'Karandikar', 35, 86, 001, 110);
INSERT INTO `PLAYERS` VALUES (152, 'Shreeya', 'Pahune', 18, 07, 002, 120);

UNLOCK TABLES;

-- Dumping data for table `PLAYER_TYPE`

LOCK TABLES `PLAYER_TYPE` WRITE;

INSERT INTO `PLAYER_TYPE` VALUES (111,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (111,'Bowler');
INSERT INTO `PLAYER_TYPE` VALUES (112,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (112,'Bowler');
INSERT INTO `PLAYER_TYPE` VALUES (113,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (114,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (121,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (122,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (122,'Bowler');
INSERT INTO `PLAYER_TYPE` VALUES (131,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (131,'Bowler');
INSERT INTO `PLAYER_TYPE` VALUES (132,'Bowler');
INSERT INTO `PLAYER_TYPE` VALUES (141,'Batsman');
INSERT INTO `PLAYER_TYPE` VALUES (141,'Bowler');
INSERT INTO `PLAYER_TYPE` VALUES (142,'Batsman');

UNLOCK TABLES;



-- Dumping data for table `PLAYS_IN_A_TOURNAMENT`

LOCK TABLES `PLAYS_IN_A_TOURNAMENT` WRITE;

INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (110, 120, 110, 20, 111);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (110, 120, 110, 20, 112);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (110, 120, 110, 20, 113);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (110, 120, 110, 20, 114);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (110, 120, 120, 20, 121);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (110, 120, 120, 20, 122);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (130, 150, 130, 75, 131);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (130, 150, 130, 75, 132);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (130, 150, 150, 75, 151);
INSERT INTO `PLAYS_IN_A_TOURNAMENT` VALUES (130, 150, 150, 75, 152);


UNLOCK TABLES;



-- Dumping data for table `BOWLER`

LOCK TABLES `BOWLER` WRITE;

INSERT INTO `BOWLER` VALUES (111, 404, 1324, 342, 4,'4/23');
INSERT INTO `BOWLER` VALUES (112, 4, 25, 12, 2,'9/20');
INSERT INTO `BOWLER` VALUES (122, 234, 2353, 12, 196,'2/45');
INSERT INTO `BOWLER` VALUES (131, 87, 456, 10, 46,'3/83');
INSERT INTO `BOWLER` VALUES (132, 123, 2082, 243, 8,'5/93');
INSERT INTO `BOWLER` VALUES (141, 27, 1324, 45, 29,'1/35');


UNLOCK TABLES;



-- Dumping data for table `BATSMAN`

LOCK TABLES `BATSMAN` WRITE;

INSERT INTO `BATSMAN` VALUES (111, 18456, 404, 48, 52, 200);
INSERT INTO `BATSMAN` VALUES (112, 4, 3, 478, 478, 254);
INSERT INTO `BATSMAN` VALUES (113, 11578, 240, 20, 53, 183);
INSERT INTO `BATSMAN` VALUES (114, 8467, 125, 11, 74, 264);
INSERT INTO `BATSMAN` VALUES (121, 6456, 304, 25, 23, 156);
INSERT INTO `BATSMAN` VALUES (122, 3457, 234, 8, 15, 99);
INSERT INTO `BATSMAN` VALUES (131, 2076, 87, 6, 26, 124);
INSERT INTO `BATSMAN` VALUES (141, 786, 27, 1, 30, 67);
INSERT INTO `BATSMAN` VALUES (142, 1256, 54, 6, 26, 163);


UNLOCK TABLES;



-- Dumping data for table `CAPTAIN`

LOCK TABLES `CAPTAIN` WRITE;

INSERT INTO `CAPTAIN` VALUES (111, 001);
INSERT INTO `CAPTAIN` VALUES (112, 002);
INSERT INTO `CAPTAIN` VALUES (113, 003);
INSERT INTO `CAPTAIN` VALUES (114, 004);
INSERT INTO `CAPTAIN` VALUES (121, 005);

UNLOCK TABLES;



